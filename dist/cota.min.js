!function(e){!function(){let t=!1;if(Array.from(document.getElementsByTagName("link")).forEach(e=>e.href.indexOf("cota.min.css")>-1?t=!0:null),!t){const t=e.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="/cota.min.css",e.head.append(t),console.log("load css")}}();const t=e.getElementById("cota");let n=null;const m=e.createElement("div");m.classList.add("comment-box"),m.innerHTML='<textarea class="comment-input"></textarea><div id="comment-btns"><div class="clear"></div></div>',t.prepend(m);const c=e.createElement("a");c.classList.add("submit"),c.innerText="Submit",c.addEventListener("click",function(e){const t=e.target.parentElement.previousElementSibling.value;setTimeout(()=>{const m=o({id:2,postId:1,parentId:0,email:"wangmaozhu@foxmail.com",website:"matthew-wang.com",nickname:"Matthew",comment:t});null===n?i.prepend(m):n.append(m),e.target.parentElement.previousElementSibling.value=""},1e3)});const a=e.createElement("a");a.classList.add("cancel-reply-button"),a.innerText="Cancel",a.addEventListener("click",function(m){e.getElementsByClassName("comment-box")[0].remove(),s(t),a.style.display="none",n=null}),a.style.display="none";const i=e.createElement("div");function s(e){e.prepend(m)}function o(t,n=!1){const m=e.createElement("div");m.setAttribute("id","comment-list-item-"+t.id);const c=e.createElement("div");c.classList.add("comment-detail");const a=e.createElement("div");a.classList.add("comment-info");const i=e.createElement("a");return i.classList.add("reply-comment"),i.innerText="Reply",i.addEventListener("click",l),c.innerHTML=n?`<div class="comment-content">${t.comment}</div><div class="comment-box-${t.id}"></div>`:`<div class="comment-content">${t.comment}</div><div class="comment-box-${t.id}"></div><div class="child-comment-list"></div>`,a.append(i),c.prepend(a),m.append(c),m}function l(t){e.getElementsByClassName("comment-box")[0].remove(),s(t.target.parentElement.nextElementSibling.nextElementSibling),a.style.display="block",n=t.target.parentElement.parentElement.parentElement}i.setAttribute("id","comment-list"),e.getElementById("comment-btns").prepend(c),e.getElementById("comment-btns").prepend(a),t.append(i),function(){const t={mainComments:[{id:1,postId:1,parentId:0,email:"wangmaozhu@foxmail.com",website:"matthew-wang.com",nickname:"Matthew",comment:"test"}],childComments:[{id:3,postId:1,parentId:1,email:"wangmaozhu@foxmail.com",website:"matthew-wang.com",nickname:"Matthew",comment:"test child comment"}]};t.mainComments.forEach(e=>{const t=o(e);i.append(t)}),t.childComments.forEach(t=>{const n=o(t,!0);e.querySelector(`#comment-list-item-${t.parentId} .child-comment-list`).append(n)})}()}(document);